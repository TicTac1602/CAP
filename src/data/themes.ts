import { ThemeSection } from '@/types';

export const themes: ThemeSection[] = [
  {
    id: 'administration',
    title: 'Administration',
    description: 'Imp√¥ts, carte d\'identit√©, s√©curit√© sociale et d√©marches administratives',
    icon: 'üìã',
    color: 'bg-blue-500',
    checklistSections: [
      {
        id: 'admin-citoyennete',
        title: 'Gestion de la citoyennet√©',
        description: 'Documents officiels et pi√®ces d\'identit√©',
        items: [
          {
            id: 'admin-1',
            title: 'Obtenir sa carte d\'identit√©',
            description: 'Renouveler ou obtenir sa premi√®re carte d\'identit√©',
            completed: false,
            priority: 'high',
            resources: ['https://www.service-public.fr']
          },
          {
            id: 'admin-4',
            title: 'Obtenir un passeport',
            description: 'Renouveler ou obtenir son passeport pour voyager √† l\'√©tranger',
            completed: false,
            priority: 'high',
            resources: ['https://www.service-public.fr']
          },
          {
            id: 'admin-5',
            title: 'Obtenir une carte √©lectorale',
            description: 'Faire une demande de carte √©lectorale',
            completed: false,
            priority: 'high',
            resources: ['https://www.service-public.fr']
          },
		  {
			id: 'admin-6',
			title: 'Obtenir une carte vitale',
			description: 'Faire une demande de carte vitale',
			completed: false,
			priority: 'high',
			resources: ['https://www.service-public.fr']
		  }
        ]
      },
      {
        id: 'admin-fiscalite',
        title: 'Fiscalit√©',
        description: 'Imp√¥ts et d√©clarations fiscales',
        items: [
          {
            id: 'admin-2',
            title: 'D√©clarer ses revenus',
            description: 'G√©n√©ralement entre avril et juin chaque ann√©e il faut d√©clarer ses revenus sur le site des imp√¥ts',
            completed: false,
            priority: 'high',
            deadline: new Date('2026-05-31'),
            resources: ['https://www.impots.gouv.fr', 'https://www.economie.gouv.fr/particuliers/impots-et-fiscalite/gerer-mon-impot-sur-le-revenu']
          },
		  {
			id: 'admin-7',
			title: 'V√©rifier ses pr√©l√®vements et budg√©ter ses imp√¥ts',
			description: 'S\'assurer que ses pr√©l√®vements √† la source sont corrects et calculer sa partie d\'imp√¥ts √† payer en fin d\'ann√©e',
			completed: false,
			priority: 'medium',
		  },
		  {
			id: 'admin-8',
			title: 'Paiement des imp√¥ts sur le revenu',
			description: 'Effectuer le paiement des imp√¥ts sur le revenu',
			completed: false,
			priority: 'high',
			deadline: new Date('2026-12-31'),
			resources: ['https://www.impots.gouv.fr', 'https://www.economie.gouv.fr/particuliers/impots-et-fiscalite/gerer-mon-impot-sur-le-revenu']
		  }
        ]
      },
	  {
		id: 'admin-aides',
		title: 'Aides et subventions',
		description: 'Acc√©der aux aides financi√®res de l\'√©tat',
		items: [
		  {
			id: 'admin-9',
			title: 'Consulter les aides disponibles',
			description: 'V√©rifier les aides auxquelles vous pouvez pr√©tendre',
			completed: false,
			priority: 'high',
			resources: ['https://www.mesdroitssociaux.gouv.fr/dd1pnds-ria/#destination/simu-foyer']
		  }
		]
	  }
    ],
    vigilancePoints: [
      {
        id: 'vigilance-admin-1',
        title: 'Date limite d√©claration d\'imp√¥ts',
        description: 'Ne pas d√©passer la date limite du 31 mai pour la d√©claration en ligne',
        type: 'deadline'
      }
    ],
    usefulLinks: [
      {
        id: 'link-admin-1',
        title: 'Service Public - Particuliers',
        url: 'https://www.service-public.fr/particuliers/',
        description: 'Toutes les d√©marches administratives'
      },
	  {
        id: 'link-admin-2',
        title: 'Impots.gouv.fr',
        url: 'https://www.impots.gouv.fr/',
        description: 'Site officiel des imp√¥ts'
      },
	  {
        id: 'link-admin-3',
        title: 'Site de l\'√©conomie.gouv.fr sur la gestion de l\'imp√¥t sur le revenu',
        url: 'https://www.economie.gouv.fr/particuliers/impots-et-fiscalite/gerer-mon-impot-sur-le-revenu',
        description: 'G√©rer son imp√¥t sur le revenu'
      }
    ]
  },
  {
    id: 'logement',
    title: 'Logement',
    description: 'Location, achat, assurance habitation et aides au logement',
    icon: 'üè†',
    color: 'bg-green-500',
    checklistSections: [
      {
        id: 'logement-recherche',
        title: 'Recherche et signature',
        description: 'Trouver et s√©curiser son logement',
        items: [
          {
            id: 'housing-1',
            title: 'V√©rifier le bail avant signature',
            description: 'Contr√¥ler toutes les clauses du contrat de location',
            completed: false,
            priority: 'high'
          }
        ]
      },
      {
        id: 'logement-assurance',
        title: 'Assurance et protection',
        description: 'Se prot√©ger et assurer son logement',
        items: [
          {
            id: 'housing-2',
            title: 'Souscrire une assurance habitation',
            description: 'Obligatoire pour les locataires',
            completed: false,
            priority: 'high'
          }
        ]
      },
      {
        id: 'logement-aides',
        title: 'Aides au logement',
        description: 'B√©n√©ficier des aides financi√®res',
        items: [
          {
            id: 'housing-3',
            title: 'Faire les demandes d\'aides (APL, ALS)',
            description: 'D√©poser sa demande sur caf.fr',
            completed: false,
            priority: 'medium'
          }
        ]
      }
    ],
    vigilancePoints: [
      {
        id: 'vigilance-housing-1',
        title: 'D√©p√¥t de garantie',
        description: 'Maximum 1 mois de loyer pour un logement vide, 2 mois pour un meubl√©',
        type: 'important'
      }
    ],
    usefulLinks: [
      {
        id: 'link-housing-1',
        title: 'CAF - Mes Aides',
        url: 'https://www.caf.fr/',
        description: 'Simuler et demander ses aides au logement'
      }
    ]
  },
  {
    id: 'sante',
    title: 'Sant√©',
    description: 'Mutuelle, m√©decin traitant, remboursements et urgences',
    icon: 'üè•',
    color: 'bg-red-500',
    checklistSections: [
      {
        id: 'sante-parcours',
        title: 'Parcours de soins',
        description: 'Organisation de son suivi m√©dical',
        items: [
          {
            id: 'health-1',
            title: 'Choisir un m√©decin traitant',
            description: 'D√©clarer son m√©decin traitant aupr√®s de l\'Assurance Maladie',
            completed: false,
            priority: 'high'
          }
        ]
      },
      {
        id: 'sante-couverture',
        title: 'Couverture sant√©',
        description: 'Assurance et remboursements',
        items: [
          {
            id: 'health-2',
            title: 'Souscrire une mutuelle',
            description: 'Compl√©mentaire sant√© pour r√©duire le reste √† charge',
            completed: false,
            priority: 'medium'
          }
        ]
      },
      {
        id: 'sante-prevention',
        title: 'Pr√©vention',
        description: 'Vaccins et suivi pr√©ventif',
        items: [
          {
            id: 'health-3',
            title: 'Mettre √† jour ses vaccins',
            description: 'V√©rifier son carnet de vaccination',
            completed: false,
            priority: 'medium'
          }
        ]
      }
    ],
    vigilancePoints: [],
    usefulLinks: [
      {
        id: 'link-health-1',
        title: 'Ameli.fr',
        url: 'https://www.ameli.fr/',
        description: 'Compte Assurance Maladie'
      }
    ]
  },
  {
    id: 'banque-budget',
    title: 'Banque & Budget',
    description: 'Compte bancaire, budget, √©pargne et cr√©dit',
    icon: 'üí∞',
    color: 'bg-yellow-500',
    checklistSections: [
      {
        id: 'banque-ouverture',
        title: 'Ouverture de compte',
        description: 'Premier compte bancaire',
        items: [
          {
            id: 'bank-1',
            title: 'Ouvrir un compte bancaire',
            description: 'Choisir sa banque et ouvrir son premier compte',
            completed: false,
            priority: 'high'
          }
        ]
      },
      {
        id: 'banque-gestion',
        title: 'Gestion financi√®re',
        description: 'Budget et √©pargne',
        items: [
          {
            id: 'bank-2',
            title: 'Cr√©er un budget mensuel',
            description: '√âtablir ses revenus et d√©penses',
            completed: false,
            priority: 'medium'
          },
          {
            id: 'bank-3',
            title: 'Mettre en place une √©pargne',
            description: 'Ouvrir un livret A ou LDD',
            completed: false,
            priority: 'low'
          }
        ]
      }
    ],
    vigilancePoints: [],
    usefulLinks: []
  },
  {
    id: 'assurances',
    title: 'Assurances',
    description: 'Auto, habitation, responsabilit√© civile et pr√©voyance',
    icon: 'üõ°Ô∏è',
    color: 'bg-purple-500',
    checklistSections: [
      {
        id: 'assurances-transport',
        title: 'Assurances transport',
        description: 'V√©hicules et mobilit√©',
        items: [
          {
            id: 'insurance-1',
            title: 'Souscrire une assurance auto',
            description: 'Obligatoire pour conduire (au minimum au tiers)',
            completed: false,
            priority: 'high'
          }
        ]
      },
      {
        id: 'assurances-responsabilite',
        title: 'Responsabilit√© civile',
        description: 'Protection contre les dommages caus√©s',
        items: [
          {
            id: 'insurance-2',
            title: 'V√©rifier sa responsabilit√© civile',
            description: 'Souvent incluse dans l\'assurance habitation',
            completed: false,
            priority: 'medium'
          }
        ]
      }
    ],
    vigilancePoints: [],
    usefulLinks: []
  },
  {
    id: 'emploi',
    title: 'Emploi',
    description: 'CV, entretiens, contrats de travail et droits du salari√©',
    icon: 'üíº',
    color: 'bg-indigo-500',
    checklistSections: [
      {
        id: 'emploi-recherche',
        title: 'Recherche d\'emploi',
        description: 'Outils et d√©marches pour trouver un emploi',
        items: [
          {
            id: 'job-1',
            title: 'Cr√©er son CV',
            description: 'R√©diger un CV attractif et professionnel',
            completed: false,
            priority: 'high'
          },
          {
            id: 'job-2',
            title: 'S\'inscrire √† P√¥le Emploi',
            description: 'Obtenir son num√©ro d\'identifiant P√¥le Emploi',
            completed: false,
            priority: 'medium'
          }
        ]
      },
      {
        id: 'emploi-contrat',
        title: 'Contrat de travail',
        description: 'Comprendre ses droits et devoirs',
        items: [
          {
            id: 'job-3',
            title: 'Comprendre son contrat de travail',
            description: 'Lire et v√©rifier les clauses importantes',
            completed: false,
            priority: 'high'
          }
        ]
      }
    ],
    vigilancePoints: [],
    usefulLinks: []
  }
];

export const getThemeById = (id: string): ThemeSection | undefined => {
  return themes.find(theme => theme.id === id);
};

export const getThemesByPriority = (): ThemeSection[] => {
  return themes.sort((a, b) => {
    const getAllItems = (theme: ThemeSection) => 
      theme.checklistSections.flatMap(section => section.items);
    
    const highPriorityA = getAllItems(a).filter(item => item.priority === 'high').length;
    const highPriorityB = getAllItems(b).filter(item => item.priority === 'high').length;
    return highPriorityB - highPriorityA;
  });
};